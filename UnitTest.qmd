---
title: Test unitarios
format: 
  revealjs:
    theme: [simple, custom.scss]
    transition: slide
---

# Test unitarios

![](./img/unit-test-intro.jpeg){fig-alt="Unit Test Img" height=200}

## 쯈ue son?

Son procesos donde se prueba peque침as unidades de c칩digo funcional, (es un bloque de c칩digo 
que verifica la veracidad de un peque침o, aislado bloque de c칩digo de una aplicaci칩n, 
com칰nmente una funci칩n) 

# Beneficios

## Ayuda a detectar errores

Si existen errores de entrada, salida o en la l칩gica las pruebas nos ayudaran a detectarlos de 
manera temprana.
 
En el desarrollo se suelen realizar muchos cambios, las pruebas esperan los mismos resultados 
as칤 que adem치s podemos detectar donde surgen los errores.

## Documentaci칩n

Las pruebas act칰an como una forma de documentaci칩n, ya que se sabe exactamente lo que s 
supone que debe de hacer el c칩digo.

# Estrategias

Con estas preguntas podemos seguir estrategias para escribir test unitarios.

## Validaci칩n de l칩gica 
 
- 쯉e realizan los c치lculos correctos?
- 쯉igue el camino correcto con una entrada correcta? 
- 쮼st치n cubiertos distintos casos por las entradas proporcionadas? 

### Ejemplos

- Teniendo en cuenta una funcion que ordena alfabeticamente un arreglo de palabras.

```
function ordenarPalabras(palabras, orden? = "asendente") {
  let copia = [...palabras];
  copia.sort();
  if (orden === "descendente") {
    copia.reverse();
  }
  return copia;
}
```

- 쮼l arreglo esta ordenado?
- 쯉e ordena desendente si recibe desendente?


## Validaci칩n de limites 
 
  쮺칩mo responde a entradas t칤picas, casos l칤mite o entradas no v치lidas? 

### Ejemplos


- Teniendo en cuenta una funcion que ordena alfabeticamente un arreglo de palabras.

```
function ordenarPalabras(palabras, orden? = "asendente") {
  let copia = [...palabras];
  copia.sort();
  if (orden === "descendente") {
    copia.reverse();
  }
  return copia;
}
```

- 쯈ue pasa si el arreglo esta vacio, nulo o undefinido?
- 쯈ue pasa si el arreglo contiene un tipo de datos distintos?
 
## Manejo de errores 
 
Cuando hay errores en las entradas, 쯖칩mo responde el sistema? 

### Ejemplos

- Teniendo en cuenta una funcion que ordena alfabeticamente un arreglo de palabras.

```
function ordenarPalabras(palabras, orden? = "asendente") {
  let copia = [...palabras];
  copia.sort();
  if (orden === "descendente") {
    copia.reverse();
  }
  return copia;
}
```

- 쯈ue pasa si en lugar de enviar un arreglo se envia otro tipo de dato?


## Caracter칤sticas de una buena prueba unitaria

- R치pida: Algunos proyectos pueden tener muchas pruebas unitarias, es importante que 
tarden poco en ejecutarse. 
- Aisladas: Es clave que sean independientes, que no necesiten ning칰n factor externo para 
funcionar.  
- Repetible: Que siempre devuelva el mismo resultado en cada ejecuci칩n 
- Auto-validada: debe poder detectar por s칤 misma si pasa o no sin interacci칩n humana. 
- Oportuna: Escribir la prueba no deber칤a de tomar mucho m치s Iempo que el c칩digo que 
se quiere probar. 

# Cobertura  

Un alto porcentaje de cobertura puede significar una mayor calidad del c칩digo. Sin embargo, no puede determinar la calidad del c칩digo. (Est치 bien si no alcanzas el 100% de cobertura no te presiones 游땕) 

# Un poco de terminolog칤a 

Un componente importante al escribir pruebas unitarias es eliminar todas las dependencias para hacer eso nos toparemos con el termino **mock function**: 

Te permite tener un comportamiento predeterminado que sustituye al comportamiento real, capturando las llamadas a esas funciones y sustituyendo su implementaci칩n.  

Es muy 칰til al momento de hacer uso de servicios de terceros (como Firebase) 

# Nombrando las pruebas 

El nombre de tu prueba deber칤a considerar estas partes:

    - El nombre del m칠todo que ser치 probado 
    - El escenario
    - Y lo que se esperar al ser ejecutado bajo ese escenario 

## Ejemplo:

- Teniendo en cuenta una funcion que ordena alfabeticamente un arreglo de palabras.

```
function ordenarPalabras(palabras, orden? = "asendente") {
  let copia = [...palabras];
  copia.sort();
  if (orden === "descendente") {
    copia.reverse();
  }
  return copia;
}
```

Ordenar por nombre arreglo vac칤o regresa arreglo vac칤o.


### 쯇or qu칠? 

Nombrar de manera est치ndar es importante porque expresa la intenci칩n explicita de una prueba 

# Bibliograf칤a:

- [What is Unit Testing? - Unit Testing Explained - AWS (amazon.com)](https://aws.amazon.com/what-is/unit-testing/)
- [Best practices for writing unit tests - .NET | Microsoft Learn )](https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-best-practices)
- [Mock Functions 췅 Jest (jestjs.io)](https://jestjs.io/docs/mock-functions)
- [Mocking in Unit Tests - Code With Engineering Playbook (microsoft.github.io)](https://microsoft.github.io/code-with-engineering-playbook/automated-testing/unit-testing/mocking/#best-practices)
